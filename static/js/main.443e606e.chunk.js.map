{"version":3,"sources":["images/logo.svg","images/edit_large_icon.svg","images/success_tooltip.svg","images/error_tooltip.svg","contexts/CurrentUserContext.js","components/Header.js","components/ProtectedRoute.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Header","email","loggedIn","onSignOut","location","useLocation","className","src","logo","alt","onClick","to","pathname","ProtectedRoute","Component","component","props","Card","card","onCardDelete","onCardClick","onCardLike","currentUser","useContext","name","link","likes","owner","isOwn","_id","isLiked","some","item","length","Main","cards","onEditProfile","onEditAvatar","onAddPlace","about","avatar","editIconLarge","map","key","Footer","PopupWithImage","onClose","isOpen","PopupWithForm","title","buttonText","children","onSubmit","noValidate","type","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","pattern","required","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","ref","current","AddPlacePopup","nameRef","linkRef","Login","onLogin","setEmail","password","setPassword","Register","onRegister","InfoTooltip","text","imgSuccess","imgError","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","method","body","JSON","stringify","cardId","all","getInitialCards","getUserInfo","Authorization","auth","_baseUrl","_headers","data","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isSuccessTooltipOpen","setIsSuccessTooltipOpen","isErrorTooltipOpen","setIsErrorTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","history","useHistory","getAppInfo","cardListData","userInfoData","catch","error","console","log","localStorage","getItem","validateAndSetUser","validateUser","user","push","err","openErrorTooltip","closeAllPopups","handleSignIn","signInUser","setItem","Provider","removeItem","exact","path","removeCard","newCards","filter","c","changeLikeCardStatus","newCard","registerUser","setUserInfo","setUserAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.443e606e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_large_icon.d476a8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/success_tooltip.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/error_tooltip.4072126c.svg\";","import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header({ email, loggedIn, onSignOut }) {\n  const location = useLocation();\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Logo\" className=\"header__logo\" />\n      {loggedIn ? (\n        <ul className=\"header__menu-items\">\n          <li className=\"header__menu-item header__nav-text_email\">{email}</li>\n          <li className=\"header__menu-item header__nav-text\">\n            <button\n              className=\"header__nav-text header__nav-text_muted\"\n              onClick={onSignOut}\n            >\n              Log out\n            </button>\n          </li>\n        </ul>\n      ) : (\n        <Link\n          className=\"header__nav-text\"\n          to={location.pathname === \"/signin\" ? \"/signup\" : \"/signin\"}\n        >\n          {location.pathname === \"/signin\" ? \"Sign up\" : \"Sign in\"}\n        </Link>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() => (props.loggedIn ? <Component {...props}/> : <Redirect to=\"/signin\" />)}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardDelete, onCardClick, onCardLike }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name, link, likes, owner } = card;\n  const isOwn = currentUser._id === owner._id;\n  const isLiked = likes.some((item) => item._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"card\">\n      <img\n        className=\"card__image\"\n        alt={`Pic: ${name}`}\n        src={link}\n        onClick={handleClick}\n      />\n      <div className=\"card__text-container\">\n        <p className=\"card__text\">{name}</p>\n        <div className=\"card__likes-container\">\n          <button\n            className={`button button_like ${isLiked && \"button_like-black\"}`}\n            onClick={handleLikeClick}\n          />\n          <p className=\"card__likes-text\">{likes.length}</p>\n        </div>\n      </div>\n      {isOwn && (\n        <button className=\"button button_delete\" onClick={handleDeleteClick} />\n      )}\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport editIconLarge from \"../images/edit_large_icon.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onCardLike,\n  onCardDelete,\n  onCardClick,\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name, about, avatar } = currentUser;\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Avatar Pic\" className=\"profile__avatar\" src={avatar} />\n          <div className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n            <img src={editIconLarge} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"profile__text-container\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            className=\"button button_edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button className=\"button button_add\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onCardDelete={onCardDelete}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithImage({ card, onClose, isOpen }) {\n  const { name, link } = card;\n  return (\n    <div className={`popup popup_image ${isOpen && \"popup_is-opened\"}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" alt={name} src={link} />\n        <h2 className=\"popup__image-title\">{name}</h2>\n        <button className=\"button button_close\" onClick={onClose} />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonText,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_is-opened\"}`}>\n      <div className=\"popup__container popup__container_form\">\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"button button_save popup__input\">\n            {buttonText}\n          </button>\n        </form>\n        <button className=\"button button_close\" onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({ name, description });\n  };\n\n  const editProfileChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_name\"\n            placeholder=\"Edit Name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            pattern=\"[A-Za-z -]+\"\n            required\n            id=\"name-input\"\n            value={name || \"\"}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_desc\"\n            placeholder=\"Edit Job\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            id=\"desc-input\"\n            value={description || \"\"}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n          <span className=\"popup__input-error\" id=\"desc-input-error\"></span>\n        </label>\n      </>\n    );\n  };\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      children={editProfileChildren()}\n    />\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: avatarRef.current.value });\n  };\n  \n  const editAvatarChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_avatar\"\n            placeholder=\"Avatar Link\"\n            required\n            id=\"avatar-input\"\n            ref={avatarRef}\n          />\n          <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n        </label>\n      </>\n    );\n  };\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change Profile Picture\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      children={editAvatarChildren()}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({ name: nameRef.current.value, link: linkRef.current.value });\n  };\n\n  const addPlaceChildren = () => {\n    return (\n      <>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            className=\"popup__input popup__input_name\"\n            placeholder=\"Title\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            required\n            id=\"title-input\"\n            ref={nameRef}\n          />\n          <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_link\"\n            placeholder=\"Image Link\"\n            required\n            id=\"link-input\"\n            ref={linkRef}\n          />\n          <span className=\"popup__input-error\" id=\"link-input-error\"></span>\n        </label>\n      </>\n    );\n  };\n  return (\n    <PopupWithForm\n      name=\"new-place\"\n      title=\"New Place\"\n      buttonText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      children={addPlaceChildren()}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login({ onLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin({ email, password });\n  };\n  return (\n    <div className=\"form\">\n      <form className=\"form__container\" onSubmit={handleSubmit}>\n        <h1 className=\"form__title\">Log in</h1>\n        <input\n          className=\"form__input\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Email\"\n        />\n        <input\n          className=\"form__input\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Password\"\n        />\n        <button type=\"submit\" className=\"form__submit\">\n          Log in\n        </button>\n        <Link className=\"form__link\" to=\"/signup\">\n          Not a member yet? Sign up here!\n        </Link>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister({ email, password });\n  };\n\n  return (\n    <div className=\"form\" onSubmit={handleSubmit}>\n      <form className=\"form__container\">\n        <h1 className=\"form__title\">Sign up</h1>\n        <input\n          className=\"form__input\"\n          type=\"email\"\n          value={email}\n          placeholder=\"Email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          className=\"form__input\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\" className=\"form__submit\">\n          Sign up\n        </button>\n        <Link className=\"form__link\" to=\"/signin\">\n          Already a member yet? Log in here!\n        </Link>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport imgSuccess from \"../images/success_tooltip.svg\";\nimport imgError from \"../images/error_tooltip.svg\";\n\nfunction InfoTooltip({ isOpen, onClose, type }) {\n  let src, alt, text;\n  switch (type) {\n    case \"success\":\n      src = imgSuccess;\n      alt = \"Pic: success\";\n      text = \"Success! You have now been registered.\";\n      break;\n    default:\n      src = imgError;\n      alt = \"Pic: error\";\n      text = \"Oops, something went wrong! Please try again.\";\n  }\n  return (\n    <div className={`popup ${isOpen && \"popup_is-opened\"}`}>\n      <div className=\"popup__container popup__container_form popup__container_tooltip\">\n        <img src={src} alt={alt} />\n        <p className=\"popup__text\">{text}</p>\n        <button className=\"button button_close\" onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  _getResponseData(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  }\n\n  //GET Get initial cards\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //GET Get user info\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PATCH Set user info\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ name, about }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PATCH Set user avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ avatar }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //POST Add new place\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: \"POST\",\n      body: JSON.stringify({ name, link }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //DELETE Remove place\n  removeCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      headers: this.headers,\n      method: \"DELETE\",\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //PUT/DELETE Change Like status\n  changeLikeCardStatus(cardId, method) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      headers: this.headers,\n      method: method,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  //Get initial data\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\", \n  headers: {\n    Authorization: \"02dcf3f3-4313-4731-b00a-f80d0e88b6bf\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","class Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getResponseData(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  }\n\n  //Register user\n  registerUser(data) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._getResponseData);\n  }\n\n  //Sign in user\n  signInUser(data) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._getResponseData);\n  }\n\n  //Check token and get user email\n  validateUser(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._getResponseData);\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: \"https://register.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default auth;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport api from \"../utils/api\";\nimport auth from \"../utils/auth\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isSuccessTooltipOpen, setIsSuccessTooltipOpen] = useState(false);\n  const [isErrorTooltipOpen, setIsErrorTooltipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([cardListData, userInfoData]) => {\n        setCurrentUser(userInfoData);\n        setCards(cardListData);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      validateAndSetUser(token);\n    }\n  }, []);\n\n  const validateAndSetUser = (token) => {\n    auth\n      .validateUser(token)\n      .then((user) => {\n        setLoggedIn(true);\n        setEmail(user.data.email);\n        history.push(\"/\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const openSuccessTooltip = () => {\n    setIsSuccessTooltipOpen(true);\n  };\n  const openErrorTooltip = () => {\n    setIsErrorTooltipOpen(true);\n  };\n  const handleUpdateUser = ({ name, description }) => {\n    api\n      .setUserInfo({ currentUser, name: name, about: description })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          name: res.name,\n          about: res.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .setUserAvatar({ avatar })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: res.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((c) => c._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  };\n  const handleCardDelete = (card) => {\n    api\n      .removeCard(card._id)\n      .then((res) => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  };\n  const handleCardClick = (card) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n\n    setIsSuccessTooltipOpen(false);\n    setIsErrorTooltipOpen(false);\n  };\n  const handleSignOut = () => {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    setEmail(\"\");\n    history.push(\"/signin\");\n  };\n  const handleSignIn = (data) => {\n    auth\n      .signInUser(data)\n      .then(({ token }) => {\n        localStorage.setItem(\"jwt\", token);\n        validateAndSetUser(token);\n      })\n      .catch((err) => {\n        openErrorTooltip();\n        console.log(err);\n      });\n  };\n  const handleRegister = (data) => {\n    auth\n      .registerUser(data)\n      .then(() => {\n        history.push(\"/signin\");\n        handleSignIn(data);\n        openSuccessTooltip();\n      })\n      .catch((err) => {\n        openErrorTooltip();\n        console.log(err);\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header email={email} loggedIn={loggedIn} onSignOut={handleSignOut} />\n      <Switch>\n        <ProtectedRoute\n          component={Main}\n          exact\n          path=\"/\"\n          loggedIn={loggedIn}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n        />\n        <Route path=\"/signin\">\n          <Login onLogin={handleSignIn} />\n        </Route>\n        <Route path=\"/signup\">\n          <Register onRegister={handleRegister} />\n        </Route>\n        <Route>\n          <Redirect to={loggedIn ? \"/\" : \"/signin\"} />\n        </Route>\n      </Switch>\n      {loggedIn && <Footer />}\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <PopupWithImage\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        type=\"success\"\n        isOpen={isSuccessTooltipOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        type=\"error\"\n        isOpen={isErrorTooltipOpen}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}